# 단기임대 매물 관리 플랫폼  
## 어드민 시스템 개선 PRD 및 로드맵

**Version 2.0**  
**2026년 2월**

---

## 1. 개요

### 1.1 문서 목적

본 문서는 단기임대(STR) 매물 관리 플랫폼의 어드민 시스템에 대한 현황 분석과 AI 기반 자동화 및 운영 효율화를 중심으로 한 개선 방향을 제시합니다. 매물 검수, 데이터 품질 관리, 운영 효율성 향상을 위한 기능 명세와 단계별 구현 로드맵을 포함합니다.

### 1.2 현재 시스템 분석

#### 기술 스택

- Frontend: Next.js 14, React 18, TypeScript
- Backend: Supabase (PostgreSQL, Auth, Storage)
- AI: OpenAI GPT-4o (이미지 분석 및 매물 검수)
- UI: Radix UI, TailwindCSS, shadcn/ui
- 테이블: TanStack Table

#### 현재 구현된 기능

- 매물 등록 (6단계 폼: 위치, 구조, 옵션, 상세정보, 요금, 예약설정, 입퇴실규칙)
- 이미지 업로드 (HEIC 자동 변환 지원)
- 어드민 대시보드 (매물 목록, 상태별 필터링)
- 매물 승인/반려 (수동)
- AI 매물 검수 (5개 항목, 100점 만점)
  - 청결도, 시설 상태, 사진 품질, 설명 완성도, 가격 적정성
- Daum 주소 API 연동

#### 현재 시스템의 한계

- AI 검수가 수동 트리거 방식 (자동화 부재)
- 매물 승인 프로세스가 완전히 수동
- 대량 처리 기능 부재 (일괄 승인/반려 불가)
- 데이터 품질 자동 검증 없음
- 운영 통계 및 인사이트 대시보드 부재
- 알림 시스템 없음 (이메일, 푸시)
- 매물 비교 및 시장 분석 기능 없음

---

## 2. 핵심 개선 방향

### 2.1 AI 기반 자동화

- 매물 등록 즉시 자동 AI 검수 실행
- AI 점수 기반 자동 승인 시스템 (임계값 설정 가능)
- 이미지 품질 자동 개선 (해상도, 밝기, 노출 조정)
- 텍스트 자동 교정 (맞춤법, 문법)
- AI 기반 가격 추천 (유사 매물 분석)

### 2.2 운영 효율화

- 일괄 처리 기능 (다중 선택 후 일괄 승인/반려)
- 필터 및 검색 고도화 (AI 점수 범위, 가격대, 지역)
- 매물 상세 정보 빠른 수정 인터페이스
- 템플릿 기반 반려 사유 입력
- 작업 히스토리 및 감사 로그

### 2.3 데이터 인사이트

- 운영 대시보드 (일일/주간/월간 통계)
- 매물 품질 트렌드 분석
- 지역별/유형별 가격 분석
- 반려 사유 통계 및 개선 제안

---

## 3. 상세 기능 명세

### 3.1 AI 자동 검수 시스템 강화

#### 기능 개요

매물 등록 완료 즉시 백그라운드에서 AI 검수를 자동 실행하고, 설정된 임계값에 따라 자동 승인 여부를 결정합니다.

#### 요구사항

- 매물 등록 시 Supabase Edge Function으로 자동 트리거
- AI 검수 진행 중 상태 표시 (대기 → 진행중 → 완료)
- 자동 승인 임계값 설정 (예: 70점 이상 자동 승인)
- 임계값 미달 시 어드민에게 알림 + 검토 대기 상태로 전환
- 검수 실패 시 재시도 로직 (최대 3회)

#### 기술 스펙

- Supabase Database Webhooks → Edge Function
- Edge Function에서 OpenAI API 호출
- 결과를 properties 테이블에 업데이트
- Redis/Upstash Queue를 이용한 비동기 처리 (선택사항)

---

### 3.2 일괄 처리 시스템

#### 기능 개요

여러 매물을 선택하여 한 번에 승인/반려할 수 있는 기능으로, 대량의 매물을 빠르게 처리할 수 있습니다.

#### 요구사항

- 테이블에 체크박스 열 추가
- 전체 선택 / 개별 선택 지원
- 일괄 승인 버튼 (확인 다이얼로그 포함)
- 일괄 반려 버튼 (공통 반려 사유 입력)
- 처리 진행 상황 표시 (N개 중 M개 처리 중)
- 처리 실패 항목 표시 및 재시도 옵션

#### UI/UX

- 상단에 선택된 항목 수 표시 배지
- 선택 시 액션 바 슬라이드인 애니메이션
- 처리 중 로딩 스피너 및 진행률 표시

---

### 3.3 이미지 자동 최적화

#### 기능 개요

업로드된 이미지를 AI가 자동으로 분석하여 밝기, 대비, 해상도를 최적화하고, 품질이 낮은 이미지는 경고 메시지를 표시합니다.

#### 요구사항

- 이미지 업로드 시 자동 분석
  - 해상도 체크 (최소 1024x768 권장)
  - 밝기/대비 분석 (너무 어둡거나 밝은 이미지 감지)
  - 흐림 감지 (블러 체크)
- 자동 보정 옵션 제공
  - 밝기/대비 자동 조정
  - 리사이징 (너무 큰 이미지 압축)
- 품질 점수 표시 (이미지별)
- 낮은 품질 이미지 교체 권장 알림

#### 기술 스펙

- Cloudinary 또는 Sharp.js를 이용한 이미지 처리
- OpenAI Vision API로 품질 분석
- Edge Function에서 처리 후 Supabase Storage에 저장

---

### 3.4 AI 기반 가격 추천 시스템

#### 기능 개요

매물의 위치, 유형, 크기, 시설 등을 분석하여 유사 매물과 비교한 적정 가격을 AI가 추천합니다.

#### 요구사항

- 매물 등록 시 가격 입력란에 '가격 추천' 버튼 표시
- 유사 매물 분석 (같은 구, 비슷한 평수, 유사 유형)
- 추천 가격 범위 표시 (최소 ~ 최대)
- 현재 입력된 가격과 비교 (저평가/적정/고평가 표시)
- 추천 근거 설명 (유사 매물 3개 예시 표시)

#### 기술 스펙

- Supabase에서 유사 매물 검색 (PostGIS 확장 활용)
- OpenAI Embeddings로 매물 유사도 계산
- 통계 분석으로 가격 범위 산출

---

### 3.5 알림 시스템

#### 기능 개요

어드민과 호스트에게 매물 상태 변경, 검수 결과 등의 알림을 이메일 및 시스템 내 알림으로 전송합니다.

#### 알림 유형

| 대상   | 알림 시점       | 내용                 |
|--------|-----------------|----------------------|
| 어드민 | 새 매물 등록 시 | 신규 매물 검토 요청  |
| 어드민 | AI 검수 완료 시 | 점수 및 검수 결과 요약 |
| 호스트 | 매물 승인 시    | 매물 승인 완료 안내  |
| 호스트 | 매물 반려 시    | 반려 사유 및 수정 가이드 |

#### 기술 스펙

- 이메일: Resend API 또는 SendGrid
- 시스템 알림: Supabase Realtime 활용
- 알림 템플릿 관리 (Supabase 테이블)

---

### 3.6 운영 대시보드 및 통계

#### 기능 개요

어드민이 매물 현황, 처리 통계, 품질 트렌드 등을 한눈에 파악할 수 있는 대시보드를 제공합니다.

#### 주요 지표

- **매물 통계**
  - 전체 매물 수, 승인/대기/반려 수
  - 일일/주간/월간 신규 등록 수
  - 평균 검수 시간, 평균 AI 점수
- **지역별 분석**
  - 서울 각 구별 매물 수
  - 지역별 평균 가격
- **유형별 분석**
  - 원룸/투룸/오피스텔 등 분포
  - 유형별 평균 AI 점수
- 반려 사유 TOP 5
- 품질 트렌드 (월별 평균 AI 점수 그래프)

#### 시각화

- 차트 라이브러리: Recharts
- 카드 형태의 KPI 표시
- 필터링 가능 (기간, 지역, 유형)

---

## 4. 구현 로드맵

### 4.1 Phase 1: 기반 자동화 (4주)

#### 목표

AI 검수 자동화와 일괄 처리 기능을 구현하여 어드민의 수작업을 50% 이상 감소시킵니다.

#### 주요 기능

1. **매물 등록 시 자동 AI 검수 트리거 (Week 1-2)**
   - Supabase Database Webhook 설정
   - Edge Function 구현 (ai-review-trigger)
   - 검수 상태 추적 (pending → processing → completed)

2. **자동 승인 시스템 (Week 2)**
   - 어드민 설정 페이지 (자동 승인 임계값 설정)
   - 임계값 기반 자동 승인 로직

3. **일괄 처리 기능 (Week 3)**
   - 테이블 다중 선택 UI
   - 일괄 승인/반려 API
   - 진행 상황 표시

4. **반려 사유 템플릿 (Week 4)**
   - 템플릿 관리 페이지
   - 반려 시 템플릿 선택 드롭다운

#### 산출물

- 자동 AI 검수 Edge Function
- 일괄 처리 API 및 UI
- 어드민 설정 페이지

---

### 4.2 Phase 2: 품질 개선 자동화 (4주)

#### 목표

이미지 품질과 텍스트 품질을 자동으로 개선하여 매물의 전체적인 품질을 향상시킵니다.

#### 주요 기능

1. **이미지 자동 분석 및 최적화 (Week 1-2)**
   - 이미지 품질 점수 계산 (해상도, 밝기, 선명도)
   - 자동 보정 (밝기/대비 조정, 리사이징)
   - 낮은 품질 이미지 경고

2. **텍스트 자동 교정 (Week 2-3)**
   - 맞춤법/문법 검사 API 연동
   - 교정 제안 표시
   - 원클릭 적용 기능

3. **AI 가격 추천 (Week 3-4)**
   - 유사 매물 검색 알고리즘
   - 가격 추천 API
   - 추천 UI (가격 입력란에 통합)

#### 산출물

- 이미지 최적화 Edge Function
- 텍스트 교정 API
- AI 가격 추천 시스템

---

### 4.3 Phase 3: 알림 및 통계 시스템 (3주)

#### 목표

실시간 알림과 데이터 기반 인사이트를 제공하여 운영 효율성과 의사결정 품질을 향상시킵니다.

#### 주요 기능

1. **알림 시스템 (Week 1-2)**
   - 이메일 알림 (Resend API)
   - 시스템 내 알림 (Supabase Realtime)
   - 알림 템플릿 관리

2. **운영 대시보드 (Week 2-3)**
   - KPI 카드 (전체 통계)
   - 차트 (지역별, 유형별, 트렌드)
   - 필터링 및 기간 선택

3. **감사 로그 (Week 3)**
   - 모든 어드민 작업 기록
   - 로그 조회 페이지
   - 필터 (날짜, 작업 유형, 관리자)

#### 산출물

- 알림 시스템 (이메일 + 시스템 내)
- 운영 대시보드 페이지
- 감사 로그 시스템

---

### 4.4 Phase 4: 고도화 및 최적화 (3주)

#### 목표

시스템 성능을 최적화하고, 추가 고급 기능을 구현하여 플랫폼을 완성도 높게 마무리합니다.

#### 주요 기능

1. **고급 검색 및 필터 (Week 1)**
   - 복합 조건 검색 (AI 점수 범위, 가격대, 지역)
   - 저장된 필터 프리셋
   - 정렬 옵션 확장

2. **매물 비교 기능 (Week 1-2)**
   - 최대 3개 매물 동시 비교
   - 항목별 비교 테이블
   - AI 점수 비교

3. **성능 최적화 (Week 2-3)**
   - 이미지 CDN 최적화
   - 쿼리 성능 개선 (인덱스 추가)
   - 페이지네이션 및 무한 스크롤

4. **모바일 반응형 최적화 (Week 3)**
   - 모바일 UI/UX 개선
   - 터치 제스처 지원

#### 산출물

- 고급 검색 기능
- 매물 비교 페이지
- 성능 최적화 완료
- 모바일 반응형 UI

---

## 5. 로드맵 타임라인 요약

| Phase   | 기간 | 주요 기능                                           | 목표               |
|---------|------|-----------------------------------------------------|--------------------|
| Phase 1 | 4주  | AI 자동 검수, 자동 승인, 일괄 처리, 반려 템플릿     | 수작업 50% 감소    |
| Phase 2 | 4주  | 이미지 최적화, 텍스트 교정, AI 가격 추천             | 매물 품질 향상     |
| Phase 3 | 3주  | 알림 시스템, 운영 대시보드, 감사 로그                | 데이터 기반 의사결정 |
| Phase 4 | 3주  | 고급 검색, 매물 비교, 성능 최적화, 모바일 UI        | 완성도 및 UX 향상  |

**총 개발 기간: 14주 (약 3.5개월)**

---

## 6. 기대 효과

### 6.1 운영 효율성

- 매물 검수 시간 70% 단축 (수동 → 자동)
- 일일 처리 가능한 매물 수 3배 증가
- 반복 작업 자동화로 어드민 업무 부담 감소

### 6.2 매물 품질

- 일관된 품질 기준 적용
- 저품질 매물 사전 차단
- 이미지/텍스트 품질 자동 개선
- 적정 가격 책정으로 예약률 향상

### 6.3 사용자 경험

- 호스트: 빠른 승인 프로세스, 명확한 반려 사유
- 게스트: 고품질 매물 보장
- 어드민: 직관적인 대시보드, 편리한 관리 도구

### 6.4 비즈니스 임팩트

- 매물 등록 증가 (승인 시간 단축)
- 플랫폼 신뢰도 향상
- 운영 비용 절감
- 데이터 기반 전략 수립 가능

---

## 7. 위험 관리

### 7.1 기술적 위험

| 위험 요소             | 영향도 | 완화 전략                           |
|-----------------------|--------|-------------------------------------|
| OpenAI API 비용 증가  | 높음   | 이미지 최대 5장 제한, GPT-4o-mini 검토 |
| AI 검수 정확도 이슈   | 중간   | 임계값 조정, 어드민 최종 검토 유지   |
| 대량 처리 시 성능 저하 | 중간   | Queue 시스템 도입, 배치 크기 제한    |
| 데이터 마이그레이션 문제 | 낮음 | 마이그레이션 스크립트 사전 테스트   |

### 7.2 운영 위험

- **자동 승인 오류로 인한 저품질 매물 유입**  
  완화: 초기 2주간 자동 승인 비활성화, 점진적 임계값 조정

- **과도한 자동화로 인한 호스트 반발**  
  완화: 명확한 반려 사유 제공, 재등록 가이드 제공

---

## 8. 결론

본 PRD는 단기임대 매물 관리 플랫폼의 어드민 시스템을 AI 기반 자동화와 운영 효율화를 중심으로 혁신하는 로드맵을 제시합니다.

4단계 14주간의 구현 계획을 통해 매물 검수 자동화, 품질 개선, 데이터 인사이트 제공, 성능 최적화를 순차적으로 달성하며, 최종적으로 운영 효율성 70% 향상과 매물 품질 대폭 개선이라는 목표를 실현할 것입니다.

특히 AI 기술을 활용한 자동 검수, 이미지 최적화, 가격 추천 시스템은 플랫폼의 경쟁력을 크게 높이고, 호스트와 게스트 모두에게 더 나은 경험을 제공할 것입니다.

### 핵심 성과 지표 (KPI)

- 매물 검수 시간: 평균 30분 → 5분 이하
- 일일 처리 가능 매물: 50개 → 150개
- 평균 매물 AI 점수: 60점 → 75점 이상
- 승인율: 현재 대비 20% 증가
- 호스트 재등록률: 현재 대비 30% 감소

### 다음 단계

1. Phase 1 상세 기술 설계 (1주)
2. 개발 환경 구성 및 팀 구성
3. Phase 1 개발 착수
4. 주간 진행 상황 리뷰 및 조정

---

## 부록 A: 데이터베이스 스키마 변경

### 신규 테이블

#### admin_settings (어드민 설정)

- id: UUID
- auto_approval_enabled: BOOLEAN
- auto_approval_threshold: INTEGER (0-100)
- rejection_templates: JSONB
- created_at, updated_at: TIMESTAMPTZ

#### audit_logs (감사 로그)

- id: UUID
- admin_id: UUID (FK to auth.users)
- action_type: TEXT
- target_id: UUID (property_id)
- details: JSONB
- created_at: TIMESTAMPTZ

#### notifications (알림)

- id: UUID
- user_id: UUID (FK to auth.users)
- type: TEXT
- title: TEXT
- message: TEXT
- read: BOOLEAN
- created_at: TIMESTAMPTZ

### 기존 테이블 수정

#### properties 테이블 추가 컬럼

- ai_review_status: TEXT (pending, processing, completed, failed)
- auto_approved: BOOLEAN
- image_quality_scores: JSONB
- text_corrections: JSONB
- price_recommendation: JSONB

---

*― 문서 종료 ―*
